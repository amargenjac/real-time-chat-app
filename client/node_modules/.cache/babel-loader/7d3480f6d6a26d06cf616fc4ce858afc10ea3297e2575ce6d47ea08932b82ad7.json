{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AuthService from '../services/AuthService';\nexport default {\n  name: 'LoginView',\n  components: {},\n  data() {\n    return {\n      email: '',\n      username: '',\n      password: '',\n      error: null\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        const response = await AuthService.login({\n          email: this.email,\n          password: this.password\n        });\n        console.log(response);\n        const token = response.data.token;\n        const user = response.data.user;\n        localStorage.setItem('token', token);\n        localStorage.setItem('user', JSON.stringify(user));\n        let users = response.data.users;\n        this.$router.push({\n          name: 'HomeView',\n          params: {\n            users\n          }\n        });\n      } catch (e) {\n        this.error = e.response.data.message;\n        console.error(e);\n      }\n    },\n    redirectToRegister() {\n      this.$router.push('/register');\n    }\n  }\n};","map":{"version":3,"names":["AuthService","name","components","data","email","username","password","error","methods","login","response","console","log","token","user","localStorage","setItem","JSON","stringify","users","$router","push","params","e","message","redirectToRegister"],"sources":["C:\\Users\\amarg\\real-time-chat-app\\client\\src\\components\\Login.vue"],"sourcesContent":["<template>\r\n  <v-layout class=\"rounded rounded-md\">\r\n    <v-main class=\"d-flex align-center justify-center\" style=\"min-height: 300px;\">\r\n      <div class=\"login\">\r\n        <h1>Login</h1>\r\n        <br>\r\n        <v-text-field label=\"Email\" variant=\"solo-filled\" v-model=\"email\"></v-text-field>\r\n        <br />\r\n        <v-text-field label=\"Password\" variant=\"solo-filled\" type=\"password\" v-model=\"password\"></v-text-field>\r\n        <br />\r\n        <v-col cols=\"auto\">\r\n          <v-btn elevation=\"4\" size=\"x-large\" @click=\"login\">Sign in</v-btn>\r\n        </v-col>\r\n        <h4>Or</h4>\r\n        <v-col cols=\"auto\">\r\n          <v-btn elevation=\"4\" size=\"x-large\" @click=\"redirectToRegister\">Sign Up</v-btn>\r\n        </v-col>\r\n        <br>\r\n        <div class=\"danger-alert\" v-html=\"error\" />\r\n        <br>\r\n      </div>\r\n    </v-main>\r\n  </v-layout>\r\n</template>\r\n\r\n<script>\r\nimport AuthService from '../services/AuthService'\r\nexport default {\r\n  name: 'LoginView',\r\n  components: {\r\n  },\r\n  data () {\r\n    return {\r\n      email: '',\r\n      username: '',\r\n      password: '',\r\n      error: null\r\n    }\r\n  },\r\n  methods: {\r\n    async login () {\r\n      try {\r\n        const response = await AuthService.login({\r\n          email: this.email,\r\n          password: this.password\r\n        })\r\n        console.log(response)\r\n        const token = response.data.token\r\n        const user = response.data.user\r\n        localStorage.setItem('token', token)\r\n        localStorage.setItem('user', JSON.stringify(user))\r\n        let users = response.data.users\r\n        this.$router.push({\r\n          name: 'HomeView',\r\n          params: { users }\r\n        })\r\n      } catch (e) {\r\n        this.error = e.response.data.message\r\n        console.error(e)\r\n      }\r\n    },\r\n    redirectToRegister () {\r\n      this.$router.push('/register')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n  max-width: 500px;\r\n  min-width: 400px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  background-color: #fff;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  color: #333;\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbutton {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: lightseagreen;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.danger-alert {\r\n  color: red\r\n}\r\n</style>\r\n"],"mappings":";AA0BA,OAAOA,WAAU,MAAO,yBAAwB;AAChD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE,CACZ,CAAC;EACDC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,KAAIA,CAAA,EAAK;MACb,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMV,WAAW,CAACS,KAAK,CAAC;UACvCL,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBE,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC;QACDK,OAAO,CAACC,GAAG,CAACF,QAAQ;QACpB,MAAMG,KAAI,GAAIH,QAAQ,CAACP,IAAI,CAACU,KAAI;QAChC,MAAMC,IAAG,GAAIJ,QAAQ,CAACP,IAAI,CAACW,IAAG;QAC9BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK;QACnCE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;QACjD,IAAIK,KAAI,GAAIT,QAAQ,CAACP,IAAI,CAACgB,KAAI;QAC9B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAChBpB,IAAI,EAAE,UAAU;UAChBqB,MAAM,EAAE;YAAEH;UAAM;QAClB,CAAC;MACH,EAAE,OAAOI,CAAC,EAAE;QACV,IAAI,CAAChB,KAAI,GAAIgB,CAAC,CAACb,QAAQ,CAACP,IAAI,CAACqB,OAAM;QACnCb,OAAO,CAACJ,KAAK,CAACgB,CAAC;MACjB;IACF,CAAC;IACDE,kBAAiBA,CAAA,EAAK;MACpB,IAAI,CAACL,OAAO,CAACC,IAAI,CAAC,WAAW;IAC/B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}